{% extends 'base.html' %}

{% block title %}UWCS | Password change{% endblock %}

{% block content %}
  <section class="row margin-top-2x margin-bottom-1x">
    <div class="small-12 medium-8 large-6 medium-push-2 large-push-3 columns">
      <h3>Password change</h3>
      <form method="post">
        {% csrf_token %}

        {% if form.errors %}
          <div class="callout alert">
            <p>{% if form.errors.items|length == 1 %}Please correct the error below.{% else %}Please correct the errors below.{% endif %}</p>
          </div>
        {% endif %}

        <p>Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly.</p>

        <label {% if form.old_password.errors %}class="error"{% endif %}>{{ form.old_password.label }}
          {{ form.old_password }}
          {% if form.old_password.errors %}
            <span class="error">{{ form.old_password.errors.as_text }}</span>
          {% endif %}
        </label>

        <label {% if form.new_password1.errors %}class="error"{% endif %}>{{ form.new_password1.label }}
          {{ form.new_password1 }}
          {% if form.new_password1.errors %}
            <span class="error">{{ form.new_password1.errors.as_text }}</span>
          {% endif %}
          {% if forms.new_password1.help_text %}
            <p class="help-text">{{ form.new_password1.help_text | safe }}</p>
          {% endif %}
        </label>

        <label {% if form.new_password2.errors %}class="error"{% endif %}>{{ form.new_password2.label }}
          {{ form.new_password2 }}
          {% if form.new_password2.errors %}
            <span class="error">{{ form.new_password2.errors.as_text }}</span>
          {% endif %}
          {% if forms.new_password2.help_text %}
            <p class="help-text">{{ form.new_password2.help_text | safe }}</p>
          {% endif %}
        </label>

        <input type="submit" class="button" value="Change my password">
      </form>
  </section>
{% endblock %}